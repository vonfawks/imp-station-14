- type: entity
  id: BigRedButton
  parent: SignalButton
  name: big red button
  description: Press it... if you dare.
  components:
  - type: Appearance
  - type: Sprite
    drawdepth: SmallObjects
    sprite: _Impstation/Structures/Specific/big_red_button.rsi
    layers:
    - state: base
  - type: Construction
    graph: RedButtonGraph
    node: RedButtonNode

- type: entity
  id: BigRedButtonLocked
  parent: BigRedButton
  components:
  - type: Lock
  - type: LockVisuals
  - type: AccessReader
  - type: Sprite
    drawdepth: SmallObjects
    sprite: _Impstation/Structures/Specific/big_red_button.rsi
    layers:
    - state: base
    - state: locked
      map: ["enum.LockVisualLayers.Lock"]
  - type: Destructible
    thresholds: 
    - trigger:
        !type:DamageTrigger
        damage: 5
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
      - !type:ChangeConstructionNodeBehavior
        node: RedButtonNode
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 120
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: Construction
    graph: RedButtonGraph
    node: RedButtonLockedNode

- type: entity
  id: BigRedButtonCaptain
  parent: BigRedButtonLocked
  suffix: Captain
  components:
  - type: AccessReader
    access: [["Captain"]]

- type: entity
  id: BigRedButtonHeadOfPersonnel
  parent: BigRedButtonLocked
  suffix: HeadOfPersonnel
  components:
  - type: AccessReader
    access: [["HeadOfPersonnel"]]

- type: entity
  id: BigRedButtonCommand
  parent: BigRedButtonLocked
  suffix: Command
  components:
  - type: AccessReader
    access: [["Command"]]

- type: entity
  id: BigRedButtonArmory
  parent: BigRedButtonLocked
  suffix: Armory
  components:
  - type: AccessReader
    access: [["Armory"]]

- type: entity
  id: BigRedButtonEngineering
  parent: BigRedButtonLocked
  suffix: Engineering
  components:
  - type: AccessReader
    access: [["Engineering"]]

- type: entity
  id: BigRedButtonMedical
  parent: BigRedButtonLocked
  suffix: Medical
  components:
  - type: AccessReader
    access: [["Medical"]]

- type: entity
  id: BigRedButtonExternal
  parent: BigRedButtonLocked
  suffix: External
  components:
  - type: AccessReader
    access: [["External"]]

- type: entity
  id: BigRedButtonAtmospherics
  parent: BigRedButtonLocked
  suffix: Atmospherics
  components:
  - type: AccessReader
    access: [["Atmospherics"]]

- type: entity
  id: BigRedButtonEmergency
  parent: BigRedButton
  name: emergency button
  description: Sets the alert level of the station to Code Red. Be careful!
  components:
  - type: Sprite
    drawdepth: SmallObjects
    sprite: _Impstation/Structures/Specific/big_red_button.rsi
    layers:
    - state: emergency
  - type: TriggerOnActivate
  - type: AlertLevelChangeOnTrigger
    level: red
  - type: Construction
    graph: RedButtonEmergencyGraph
    node: start
  - type: WirelessNetworkConnection
    range: 0

- type: entity
  id: BigRedButtonEmergencyLocked
  parent: BigRedButtonLocked
  name: emergency button
  description: Sets the alert level of the station to Code Red. Be careful!
  components:
  - type: Sprite
    drawdepth: SmallObjects
    sprite: _Impstation/Structures/Specific/big_red_button.rsi
    layers:
    - state: emergency
    - state: locked
      map: ["enum.LockVisualLayers.Lock"]
  - type: TriggerOnActivate
  - type: AlertLevelChangeOnTrigger
    level: red
  - type: AccessReader
    access: [["Command"]]
  - type: Construction
    graph: RedButtonEmergencyGraph
    node: RedButtonLockedEmergencyNode
  - type: Destructible
    thresholds: 
    - trigger:
        !type:DamageTrigger
        damage: 5
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
      - !type:ChangeConstructionNodeBehavior
        node: start
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 120
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: WirelessNetworkConnection
    range: 0

# this ones for shits n giggles.
- type: entity
  id: BigGreenButton
  parent: BigRedButton
  name: big green button
  description: Sets the alert level of the station to Code Green. Yay!
  components:
  - type: Sprite
    drawdepth: SmallObjects
    sprite: _Impstation/Structures/Specific/big_red_button.rsi
    layers:
    - state: green
  - type: TriggerOnActivate
  - type: AlertLevelChangeOnTrigger
    level: green
  - type: WirelessNetworkConnection
    range: 0
