- type: entity
  parent: [ SimpleSpaceMobBase, FlyingMobBase ]
  id: MobEeeplet
  suffix: "baby"
  name: eeeplet
  description: Electric sheep dream of teslas.
  components:
  - type: GhostRole
    allowMovement: true
    name: ghost-role-information-eeep-name
    description: ghost-role-information-eeep-desc
    rules: ghost-role-information-antagonist-rules
    mindRoles:
    - MindRoleGhostRoleTeamAntagonist
    raffle:
      settings: default
  - type: GhostTakeoverAvailable
  - type: Examiner
  - type: Speech
    speechSounds: Pop
    speechVerb: Slime
  - type: ReplacementAccent
    accent: eeep
  - type: Bloodstream
    bloodMaxVolume: 200
    bloodReagent: WeldingCoils
  - type: MobMover
  - type: InputMover
  - type: MovementSpeedModifier
    baseWalkSpeed: 1
    baseSprintSpeed: 3
    baseWeightlessModifier: 1.5
  - type: Sprite
    sprite: _Impstation/Mobs/Aliens/eeeplet.rsi
    noRot: true
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: eeeplet
    - map: [ "enum.DamageStateVisualLayers.BaseUnshaded" ]
      state: eeeplet_glow
      shader: unshaded
  - type: Appearance
  - type: DamageStateVisuals
    states:
      Alive:
        Base: eeeplet
      Dead:
        Base: eeeplet_dead
  - type: Physics
    bodyType: KinematicController
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.40
        density: 100
        mask:
        - FlyingMobMask
        layer:
        - FlyingMobLayer
  - type: MobState
  - type: MobThresholds
    thresholds:
      0: Alive
      100: Dead
  - type: Butcherable
    spawned:
      - id: EeepSpark
        amount: 1
  - type: StatusEffects
    allowed:
    - SlowedDown
    - ForcedSleep
    - TemporaryBlindness
    - RadiationProtection
    - Pacified
  - type: GoobAbsorbable
    biomassRestored: 0.1
  - type: FlavorProfile
    flavors:
      - jelly
  - type: InteractionPopup
    successChance: 0.3
    interactSuccessString: petting-success-eeeplet
    interactSuccessSound:
      path: /Audio/Effects/pop.ogg
    interactSuccessSpawn: EffectHearts
    interactFailureString: petting-failure-eeeplet
    interactFailureSound:
      path: /Audio/Effects/PowerSink/electric.ogg
  - type: Tag
    tags:
    - CannotSuicide
    - DoorBumpOpener
  - type: Prying
    pryPowered: true
    force: true
    speedModifier: 4
    useSound:
      path: /Audio/Effects/tesla_consume.ogg
  - type: AmbientSound
    volume: -6
    range: 5
    sound:
      path: /Audio/Effects/tesla.ogg
  - type: PointLight
    radius: 2
    energy: 3
    color: "#afa2ff"
    castShadows: true
  - type: MeleeWeapon
    attackRate: 0.4
    soundHit:
        path: /Audio/Effects/Lightning/lightningshock.ogg
    angle: 0
    animation: WeaponArcZap
    damage:
      types:
        Shock: 2
  - type: StaminaDamageOnHit
    damage: 40 # stun and run away type combat
  - type: NightVision # EE edit
    isActive: true
    toggleAction: null
    color: "#50595C"
    activateSound: null
    deactivateSound: null
  - type: BatteryDrainer
    fullDrain: true
    drainTime: 10
    sparkSound:
     path: /Audio/Effects/PowerSink/charge_fire.ogg
    minimumDrain: 1000
  - type: Battery
    maxCharge: 30000
    startingCharge: 0
  - type: ComplexInteraction
  - type: ExaminableBattery
  - type: PolymorphOnTrigger
    polymorph: EeepGrow
  - type: TriggerOnBatteryFull

- type: entity
  id: EeepSpark
  parent: TeslaMiniEnergyBall
  categories: [ HideSpawnMenu ]
  name: eeep spark
  description: You monster.
  components:
  - type: TimedDespawn
    lifetime: 10
  - type: Sprite
    drawdepth: Effects
    sprite: Structures/Power/Generation/Tesla/energy_miniball.rsi
    layers:
    - state: tesla_projectile

- type: entity
  id: WeaponArcZap
  parent: WeaponArcAnimated
  categories: [ HideSpawnMenu ]
  components:
    - type: WeaponArcVisuals
      fadeOut: false
    - type: Sprite
      sprite: Effects/lightning.rsi
      state: lightning_1
    - type: TimedDespawn
      lifetime: 0.399

- type: entity
  parent: [ MobEeeplet ]
  id: MobEeep
  suffix: "adult"
  name: eeep
  description: Uh oh.
  components:
  - type: Bloodstream
    bloodMaxVolume: 400
    bloodReagent: WeldingCoils
  - type: Electrified
    requirePower: false
    shockDamage: 4
  - type: Sprite
    sprite: _Impstation/Mobs/Aliens/eeep.rsi
    noRot: true
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: empty
    - map: [ "enum.DamageStateVisualLayers.BaseUnshaded" ]
      state: eeep
  - type: Appearance
  - type: DamageStateVisuals
    states:
      Alive:
        Base: eeep
      Critical:
        Base: eeep_crit
      Dead:
        Base: eeep_dead
  - type: MobThresholds
    thresholds:
      0: Alive
      400: Critical
      450: Dead
  - type: GoobAbsorbable
    biomassRestored: 0.8
  - type: AmbientSound
    volume: -3
    range: 4
    sound:
      path: /Audio/Effects/tesla.ogg
  - type: PointLight
    radius: 3
    energy: 5
    color: "#afa2ff"
    castShadows: true
  - type: Gun
    fireRate: 0.2
    projectileSpeed: 8
    soundGunshot:
      path: /Audio/Effects/Lightning/lightningshock.ogg
      params:
        variation: 0.2
  - type: ProjectileBatteryAmmoProvider
    proto: EeepGunBullet
    fireCost: 200
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 5
  - type: Battery
    maxCharge: 1000
    startingCharge: 0
  - type: PassiveDamage # passive regen.
    allowedStates:
    - Alive
    - Critical
    - Dead # if engie wants to use a dead eeep as a power source they have to deal with it coming back :)
    damage:
      types:
        Heat: -0.5
      groups:
        Brute: -0.5
  - type: LightningArcShooter
    arcDepth: 2
    maxLightningArc: 1
    shootMinInterval: 10
    shootMaxInterval: 20
    shootRange: 5
    lightningPrototype: Lightning
  - type: AnnounceOnSpawn
    message: eeep-spawn
    sender: eeep-spawn-sender
    sound:
     path: /Audio/Effects/PowerSink/charge_fire.ogg
    color: yellow
